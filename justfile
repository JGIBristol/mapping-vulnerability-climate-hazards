_default:
    @just --list

overall: flooding heat vulnerability
    jupyter nbconvert --execute --inplace vulnerability/notebooks/Overall_risk_assessment.ipynb
    jupyter nbconvert --to html vulnerability/notebooks/Overall_risk_assessment.ipynb

flooding:
    jupyter nbconvert --execute --inplace hazard/notebooks/Flooding_*.ipynb
    jupyter nbconvert --to html hazard/notebooks/Flooding_*.ipynb

heat:
    jupyter nbconvert --execute --inplace hazard/notebooks/Heat_*.ipynb
    jupyter nbconvert --to html hazard/notebooks/Heat_*.ipynb

vulnerability: _resample_and_join
    jupyter nbconvert --execute --inplace vulnerability/notebooks/Developing_vulnerability_indicators.ipynb
    jupyter nbconvert --to html vulnerability/notebooks/Developing_vulnerability_indicators.ipynb

_download_data:
    python vulnerability/code/01_download_data.py

_extract_and_subset_data: _download_data
    python vulnerability/code/02_extract_and_subset_data.py

_join_tables: _extract_and_subset_data
    python vulnerability/code/03_join_tables.py

_calculate_indicators: _join_tables
    python vulnerability/code/04_calculate_indicators.py
    
_resample_and_join: _calculate_indicators
    python vulnerability/code/05_resample_and_join.py
